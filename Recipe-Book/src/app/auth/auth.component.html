<!-- Build login page, needs styling-->
<div class='row'>
  <div class='col-md-4 col-md-offset-2 well bisque-bg'>
    <!-- <div class='alert alert-danger' *ngIf = "error?.length > 0">
      <p>{{error}}</p>
    </div> Using custom alert component now-->
    <app-alert [message]='error' *ngIf='error?.length > 0' (closeAlert)='resolveError()'></app-alert>
    <div class='col-md-4 col-md-offset-2' *ngIf = "loading">
      <app-loading></app-loading>
    </div>
    <form #loginForm='ngForm' (ngSubmit)='processAuthRequest(loginForm)' *ngIf = "!loading">
      <div class='form-group'>
        <label for='email'>Email</label>
        <input type='email' 
               id='email' 
               class='form-control'
               ngModel
               name='email'
               required
               email/>
      </div>
      <div class='form-group'>
        <label for='password'>Password</label>
        <input type='password' 
               id='password' 
               class='form-control'
               ngModel
               name='password'
               required
               minlength="6"/>
      </div>
      <div>
        <button class='btn btn-info' type='submit' [disabled]='loginForm.invalid'>
          <span class='glyphicon' 
                [ngClass]="{'glyphicon-pencil': loginSelected==false, 
                            'glyphicon-log-in': loginSelected}"></span> 
            {{loginSelected ? 'Login' : 'Register'}}
        </button> | 
        <button class='btn btn-primary' (click)='swapMode()' type='button'>
          <span class='glyphicon glyphicon-repeat'></span>
          {{loginSelected ? 'Change to Register Mode' : 'Change to Login Mode'}}
        </button>
      </div>
    </form>
  </div>
</div>